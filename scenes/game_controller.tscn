[gd_scene load_steps=10 format=4 uid="uid://by4174pqnrkcd"]

[ext_resource type="Script" path="res://scripts/game_controller.gd" id="1_myg7p"]
[ext_resource type="PackedScene" uid="uid://b72wqoj6jd72s" path="res://scenes/test_area.tscn" id="2_32ljh"]
[ext_resource type="PackedScene" uid="uid://dwo373kpn6los" path="res://scenes/villain.tscn" id="3_qyy45"]
[ext_resource type="Texture2D" uid="uid://isvcx2kqbn8i" path="res://gears.webp" id="4_ru3iv"]

[sub_resource type="Gradient" id="Gradient_17yxi"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0.539863, 1.03481e-06, 2.88785e-07, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_2kd6m"]
gradient = SubResource("Gradient_17yxi")
metadata/_snap_enabled = true

[sub_resource type="GradientTexture2D" id="GradientTexture2D_tn2xf"]
gradient = SubResource("Gradient_17yxi")
metadata/_snap_enabled = true

[sub_resource type="GradientTexture2D" id="GradientTexture2D_387h1"]
gradient = SubResource("Gradient_17yxi")
metadata/_snap_enabled = true

[sub_resource type="Environment" id="Environment_ofsct"]
background_mode = 3
glow_enabled = true
glow_levels/2 = 6.43
glow_strength = 1.81
glow_blend_mode = 1
glow_hdr_threshold = 1.07
glow_hdr_scale = 3.63
adjustment_enabled = true
adjustment_contrast = 1.1
adjustment_saturation = 1.6

[node name="GameController" type="Node2D"]
script = ExtResource("1_myg7p")

[node name="TestArea" parent="." instance=ExtResource("2_32ljh")]

[node name="TileMapLayer" parent="TestArea" index="0"]
position = Vector2(-94, 44)
tile_map_data = PackedByteArray("AAABAAAAAQABAAAAAAAAAAEAAQABAAAAAAD//wAAAQACAAAAAAD/////AQACAAAAAAAAAP//AQABAAAAAAABAAEAAQAGAAAAAAACAAAAAQABAAAAAAACAP//AQABAAAAAAADAP//AQAGAAAAAAAEAAAAAQABAAAAAAAEAAEAAQAGAAAAAAADAAEAAQAGAAAAAAADAAAAAQABAAAAAAACAAIAAQABAAAAAAADAAIAAQABAAAAAAAEAAIAAQAHAAAAAAAFAAEAAQABAAAAAAAGAAEAAQAHAAAAAAAHAAAAAQABAAAAAAAGAAAAAQAGAAAAAAAHAP//AQABAAAAAAAGAP//AQABAAAAAAAFAP//AQAHAAAAAAAFAAIAAQABAAAAAAAGAAIAAQAGAAAAAAAHAAEAAQABAAAAAAAIAAEAAQABAAAAAAAIAAAAAQAGAAAAAAAIAP//AQABAAAAAAAHAP7/AQABAAAAAAAFAAAAAQAGAAAAAAAGAP7/AQACAAAAAAAFAP3/AQACAAAAAAAEAP7/AQACAAAAAAADAP7/AQABAAAAAAAFAP7/AQABAAAAAAAEAP//AQABAAAAAAACAP7/AQACAAAAAAABAP7/AQABAAAAAAACAAEAAQAGAAAAAAD//wIAAQACAAAAAAD//wEAAQACAAAAAAAAAAIAAQABAAAAAAABAAIAAQAHAAAAAAABAAMAAQAGAAAAAAAAAAMAAQABAAAAAAACAAMAAQABAAAAAAADAAMAAQABAAAAAAAEAAMAAQAGAAAAAAACAAQAAQAHAAAAAAAHAP3/AQACAAAAAAAJAP//AQABAAAAAAABAP//AQAHAAAAAAAAAAAAAQABAAAAAAADAP3/AQACAAAAAAD///7/AQACAAAAAAAAAP7/AQACAAAAAAD///3/AQACAAAAAAABAP3/AQACAAAAAAD//wMAAQACAAAAAAAAAAQAAQABAAAAAAAEAAQAAQABAAAAAAAFAAMAAQABAAAAAAAGAAMAAQABAAAAAAAHAAMAAQABAAAAAAAHAAIAAQAGAAAAAAAIAAMAAQAGAAAAAAAJAAIAAQAGAAAAAAAJAAEAAQAGAAAAAAAKAAEAAQAHAAAAAAAKAAAAAQAGAAAAAAAJAP7/AQABAAAAAAAIAP7/AQACAAAAAAAAAAUAAQABAAAAAAAAAAYAAQABAAAAAAABAAQAAQABAAAAAAABAAUAAQABAAAAAAABAAYAAQAGAAAAAAACAAUAAQAGAAAAAAACAAYAAQAGAAAAAAADAAQAAQAGAAAAAAADAAUAAQABAAAAAAADAAYAAQABAAAAAAAEAAUAAQAHAAAAAAAEAAYAAQABAAAAAAAFAAQAAQAGAAAAAAAFAAUAAQABAAAAAAAFAAYAAQABAAAAAAAGAAQAAQAHAAAAAAAGAAUAAQABAAAAAAAGAAYAAQAGAAAAAAAHAAQAAQAGAAAAAAAHAAUAAQABAAAAAAAHAAYAAQABAAAAAAAIAAIAAQABAAAAAAAIAAQAAQAGAAAAAAAIAAUAAQABAAAAAAAIAAYAAQABAAAAAAAJAAAAAQABAAAAAAAJAAMAAQABAAAAAAAJAAQAAQABAAAAAAAJAAUAAQAHAAAAAAAJAAYAAQABAAAAAAAKAP7/AQACAAAAAAAKAP//AQABAAAAAAAKAAIAAQAGAAAAAAAKAAMAAQAHAAAAAAAKAAQAAQAGAAAAAAAKAAUAAQAGAAAAAAAKAAYAAQABAAAAAAALAP7/AQABAAAAAAALAP//AQABAAAAAAALAAAAAQABAAAAAAALAAEAAQAGAAAAAAALAAIAAQABAAAAAAALAAMAAQAGAAAAAAALAAQAAQABAAAAAAALAAUAAQAGAAAAAAALAAYAAQABAAAAAAAMAP7/AQACAAAAAAAMAP//AQABAAAAAAAMAAAAAQAHAAAAAAAMAAEAAQAGAAAAAAAMAAIAAQAGAAAAAAAMAAMAAQABAAAAAAAMAAQAAQAGAAAAAAAMAAUAAQAHAAAAAAAMAAYAAQABAAAAAAANAP//AQABAAAAAAANAAAAAQABAAAAAAANAAEAAQABAAAAAAANAAIAAQAHAAAAAAANAAMAAQAGAAAAAAANAAQAAQABAAAAAAANAAUAAQABAAAAAAANAAYAAQABAAAAAAAOAP//AQABAAAAAAAOAAAAAQABAAAAAAAOAAEAAQABAAAAAAAOAAIAAQABAAAAAAAOAAMAAQABAAAAAAAOAAQAAQABAAAAAAAOAAUAAQABAAAAAAAOAAYAAQABAAAAAAAAAAcAAQACAAAAAAABAAcAAQACAAAAAAACAAcAAQACAAAAAAADAAcAAQACAAAAAAAEAAcAAQACAAAAAAAFAAcAAQACAAAAAAAGAAcAAQACAAAAAAAHAAcAAQACAAAAAAAIAAcAAQACAAAAAAAJAAcAAQACAAAAAAAKAAcAAQACAAAAAAALAAcAAQACAAAAAAAMAAcAAQACAAAAAAANAAcAAQACAAAAAAAOAAcAAQACAAAAAAAPAAYAAQACAAAAAAAPAAUAAQACAAAAAAAPAAQAAQACAAAAAAAPAAMAAQACAAAAAAAPAAIAAQACAAAAAAAPAAEAAQACAAAAAAAPAAAAAQACAAAAAAAPAP//AQACAAAAAAD//wUAAQACAAAAAAD//wYAAQACAAAAAAANAP7/AQABAAAAAAAJAP3/AQACAAAAAAALAP3/AQACAAAAAAANAP3/AQACAAAAAAAOAP7/AQACAAAAAAAPAP7/AQACAAAAAAD//wQAAQACAAAAAAA=")

[node name="Camera2D" parent="TestArea" index="1"]
position = Vector2(580, 233)
limit_left = -550
limit_top = -550
limit_right = 1500
limit_bottom = 1500
limit_smoothed = true

[node name="Knight" parent="TestArea/HeroHolder" index="0"]
position = Vector2(198, 492)

[node name="Enemy" parent="TestArea/EnemyHolder" index="0" instance=ExtResource("3_qyy45")]
position = Vector2(122, 353)
rotation = 1.0472

[node name="ParallaxBackground" type="ParallaxBackground" parent="TestArea/CanvasLayer" index="0"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="TestArea/CanvasLayer/ParallaxBackground"]
texture_repeat = 2

[node name="Sprite2D" type="Sprite2D" parent="TestArea/CanvasLayer/ParallaxBackground/ParallaxLayer"]
modulate = Color(0.888425, 0.888425, 0.888425, 0.411765)
texture_repeat = 2
texture = ExtResource("4_ru3iv")
region_enabled = true
region_rect = Rect2(622.63, 507.132, 6000, 6000)

[node name="EndTurnButton" parent="TestArea/CanvasLayer" index="1"]
texture_normal = SubResource("GradientTexture2D_2kd6m")
texture_pressed = SubResource("GradientTexture2D_tn2xf")
texture_hover = SubResource("GradientTexture2D_387h1")
texture_disabled = SubResource("GradientTexture2D_2kd6m")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ofsct")

[connection signal="pressed" from="TestArea/CanvasLayer/EndTurnButton" to="." method="_on_end_turn_button_pressed"]
[connection signal="pressed" from="TestArea/CanvasLayer/GameOverPanel/RetryButton" to="." method="_on_retry_button_pressed"]

[editable path="TestArea"]
